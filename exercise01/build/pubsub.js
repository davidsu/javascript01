define([],function(){function a(a,b){d[a]&&d[a].subscribers.forEach(function(a){a(b)})}function b(a,b){if(d[a]||(d[a]={subscribers:[]}),-1!==d[a].subscribers.indexOf(b))throw new ReferenceError("attemped to re-subscribe listener to event "+a);d[a].subscribers.push(b)}function c(a,b){var c=d[a];if(c){var e=c.subscribers.indexOf(b);if(-1==e)return;c.subscribe.splice(e),c.subscribers.length||delete d[a]}}var d={};return{publish:a,subscribe:b,unsubscribe:c}});