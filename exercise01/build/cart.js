define([],function(){function a(a){var b=!0;return g[a.id]?g[a.id].qty==a.limit?b=!1:g[a.id].qty++:g[a.id]=new h(a),{success:b,qty:g[a.id].qty}}function b(a){var b=!0;return g[a.id]?0==g[a.id].qty?delete g[a.id]:g[a.id].qty--:b=!1,{success:b,qty:g[a.id]?g[a.id].qty:0}}function c(){var a=0;for(var b in g)a+=g[b].qty*g[b].itemSrc.getPrice();return a.toFixed(2)}function d(a){for(var b in g)if(g[b].id==a)return g[b]}function e(){function a(){return d<c.length}function b(){return c[d++]}var c=[],d=0;for(var e in g)c.push(g[e]);return{hasNext:a,next:b}}function f(){return 0===Object.getOwnPropertyNames(g).length}var g={},h=function(a){this.qty=1,this.getPrice=a.getPrice.bind(a),this.id=a.id,this.name=a.name,this.itemSrc=a};return{addToCart:a,removeFromCart:b,getTotal:c,getItemInChart:d,getIterator:e,isEmpty:f,cart:g}});