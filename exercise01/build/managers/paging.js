define(["../items/itemsRepo.js","../managers/mainTbl.js","../utils.js","../pubsub.js","../managers/total.js"],function(a,b,c,d,e){function f(c){var d=document.querySelector(".table.pop-up-cart-table");d.innerHTML="",o=c||0;var e=j();b.reset(a.getIterator(c*e,e))}function g(){for(var a=l(),b=document.createDocumentFragment(),c=0;a>c;c++){var d=document.createElement("button");d.innerHTML=c.toString(),b.appendChild(d),function(a){var b=new CustomEvent("goToPage",{detail:{pageNum:a}});d.onclick=function(){document.dispatchEvent(b)}}(c)}return b}function h(a){var b=document.querySelector("#paging-navigation-placeholder");b.innerHTML="",b.appendChild(a)}function i(){h(g())}function j(){var a=document.querySelector("#page-size"),b=a.value;return c.isNumeric(b)||(b=n,document.querySelector("#page-size").value=b.toString()),parseInt(b,10)}function k(){d.subscribe("pageSizeReset",function(){i(),f(0)});var a=document.querySelector("#set-page-size");a.onclick=function(){d.publish("pageSizeReset")}}function l(){var b=a.getItemsCount()/j(),c=parseInt(b,10);return b==c?c:c+1}function m(){f(o),e.resetTotal()}var n=20,o=null;return document.addEventListener("goToPage",function(a){f(a.detail.pageNum)}),{DEFAULT_PAGE_SIZE:n,goToPage:f,resetPagingButtons:i,getUserDefinedPageSize:j,getNumOfPages:l,repaint:m,init:k}});